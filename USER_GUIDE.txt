================================================================================
                          MULTI TEMPRATURE MONITOR
                    IRQ Pyrometer Monitoring System
                         User Operation Guide
                  Toshniwal Industries Private Limited
================================================================================

This guide explains how to operate the MULTI TEMPRATURE Monitor software for daily use.

NOTE: This software has been pre-installed and configured by Toshniwal Industries.
      For installation instructions, refer to INSTALLATION_GUIDE.txt

================================================================================
QUICK START - STARTING THE SOFTWARE
================================================================================

STEP 1: Start the Application
   - Locate: PRODUCTION-START-MINIMAL.bat
   - Right-click → Run as administrator
   - Click "Yes" when prompted
   - Wait 5-10 seconds for both servers to start

STEP 2: Two windows will open:
   - Backend Server (black window) - Keep this open
   - Frontend Server (black window) - Keep this open

   ⚠️ DO NOT CLOSE THESE WINDOWS while using the software!

STEP 3: Access the Web Interface
   - Open your web browser (Chrome, Edge, Firefox)
   - Go to: http://localhost
   - The MULTI TEMPRATURE Monitor dashboard will appear

================================================================================
ACCESSING FROM OTHER COMPUTERS ON THE NETWORK
================================================================================

From the Same Computer:
   http://localhost
   or
   http://COMPUTERNAME

From Other Computers on Network:
   http://COMPUTERNAME
   or
   http://SERVER-IP-ADDRESS

To Find Your Server IP Address:
   - Open Command Prompt
   - Type: ipconfig
   - Look for "IPv4 Address" (e.g., 192.168.1.100)
   - Use: http://192.168.1.100

================================================================================
UNDERSTANDING THE DASHBOARD
================================================================================

The dashboard displays three main sections:

1. STATUS BAR (Top)
   - WebSocket: Connected/Disconnected (real-time updates)
   - Polling: Active/Stopped (device scanning)
   - Buffer: Data queue status
   - Up From: How long the system has been running

2. DEVICES SECTION (Top Half)
   - Shows all enabled IRQ Pyrometers
   - Each device shows:
     * Device Name (Location)
     * Current Temperature (°C)
     * Ambient Temperature (°C)
     * Status: OK, Warning, Error, or Offline
     * Last Update Time

   Status Indicators:
   - Green (OK): Device working normally
   - Yellow (Warning): Check device
   - Red (Error): Communication problem
   - Gray (Offline): No recent data

3. TEMPERATURE GRAPH (Bottom Half)
   - Real-time temperature trends
   - Each enabled device shown as colored line
   - Auto-updates every reading
   - Zoom: Click and drag on graph
   - Reset Zoom: Double-click graph

================================================================================
VIEWING & EXPORTING DATA
================================================================================

STEP 1: Access Preview & Export
   - Click "Preview & Export" button (top-right)
   - Select time range:
     * Last 1 Hour
     * Last 6 Hours
     * Last 12 Hours
     * Last 24 Hours
     * Custom Range (select dates)

STEP 2: View Data Table
   - All readings shown in table format
   - Columns: Time, Device Name, Temperature, Ambient, Status
   - Sorted by most recent first

STEP 3: View Graph
   - Scroll down to see temperature graph
   - All devices plotted over selected time range

STEP 4: Export to PDF
   - Click "Export to PDF" button
   - PDF automatically downloads
   - Contains:
     * Company header (Toshniwal Industries)
     * Selected time range
     * Data table (all readings)
     * Temperature graph
     * Export timestamp

STEP 5: Export to CSV (Excel)
   - Click "Export to CSV" button
   - CSV file automatically downloads
   - Open in Excel or Google Sheets
   - Contains all reading data in spreadsheet format

================================================================================
CONFIGURING DEVICES (REQUIRES PIN)
================================================================================

NOTE: Only authorized personnel should configure devices.
      You need a 4-digit PIN provided by Toshniwal Industries.

STEP 1: Open Configuration
   - Click "Configure Devices" button (top-right)
   - Enter your 4-digit PIN
   - Click "Verify PIN"

STEP 2: Add IRQ Pyrometer Device
   - Click "+ Add Device" button
   - Fill in device information:
     * Toggle ON to enable device
     * Check "Graph" to show on graph
     * Device Name: Location identifier (must be unique)
     * Instrument ID: 1-16 (must match device slave ID)
     * COM Port: Select from dropdown
     * Baud Rate: Match device setting (usually 9600)
     * Graph Y-Min: Minimum graph temperature (e.g., 600)
     * Graph Y-Max: Maximum graph temperature (e.g., 2000)

STEP 3: Remove Device
   - Click "−" button next to device row

STEP 4: Save Configuration
   - Click "Save Configuration" button
   - Confirm when prompted
   - System will restart polling
   - Wait 20-30 seconds for readings to appear

IMPORTANT NOTES:
   ✓ Maximum 16 devices allowed
   ✓ Device Names must be unique
   ✓ Instrument IDs must be unique (1-16)
   ✓ Instrument ID must match the IRQ Pyrometer's slave ID
   ✓ Baud rate must match the device configuration (default: 9600)

================================================================================
STOPPING THE SOFTWARE
================================================================================

OPTION 1: Using Stop Script (Recommended)
   - Locate: PRODUCTION-STOP.bat
   - Double-click to run
   - Both servers will stop gracefully

OPTION 2: Manual Stop
   - Close the Backend Server window
   - Close the Frontend Server window
   - Or press Ctrl+C in each window

⚠️ IMPORTANT: Always stop the software properly before shutting down the computer!

================================================================================
TROUBLESHOOTING COMMON ISSUES
================================================================================

PROBLEM: Can't access http://localhost
SOLUTION:
   - Ensure both server windows are open and running
   - Check for error messages in server windows
   - Try restarting: Run PRODUCTION-STOP.bat then PRODUCTION-START-MINIMAL.bat
   - Try: http://127.0.0.1 instead

PROBLEM: Device shows "Error" or "Offline"
SOLUTION:
   - Check that the IRQ Pyrometer is powered on
   - Verify RS485 cable is connected
   - Check COM port in Device Manager (Windows)
   - Verify Instrument ID matches device slave ID
   - Ensure baud rate matches device setting
   - Try restarting the software

PROBLEM: "WebSocket Disconnected" warning
SOLUTION:
   - Refresh browser page (F5)
   - Check backend server is still running
   - If issue persists, restart the software

PROBLEM: No temperature readings appearing
SOLUTION:
   - Wait 20-30 seconds after startup for first reading
   - Check device is enabled (toggle ON in configuration)
   - Verify WebSocket shows "Connected"
   - Check device status - should be green (OK)
   - Restart the software

PROBLEM: Can't access from other computers on network
SOLUTION:
   - Verify both computers are on the same network
   - Check firewall settings on server computer
   - Use IP address instead of computer name
   - Test: ping SERVER-IP from client computer
   - Contact your IT administrator

PROBLEM: Graph not showing device
SOLUTION:
   - Check "Graph" toggle is enabled for device (in configuration)
   - Verify device is enabled (toggle ON)
   - Wait for data to accumulate (1-2 minutes)
   - Refresh browser page

PROBLEM: PDF export not working
SOLUTION:
   - Check browser allows pop-ups and downloads
   - Try different browser (Chrome recommended)
   - Ensure data exists for selected time range
   - Check browser console for errors (F12)

================================================================================
DAILY OPERATION CHECKLIST
================================================================================

STARTING YOUR DAY:
□ Run PRODUCTION-START-MINIMAL.bat as Administrator
□ Wait for both server windows to open
□ Access http://localhost in browser
□ Verify all devices show green (OK) status
□ Check WebSocket shows "Connected"
□ Verify temperature readings are updating

DURING OPERATION:
□ Monitor device status indicators
□ Keep both server windows open
□ Check for any red (Error) status devices
□ Monitor temperatures stay within expected ranges

ENDING YOUR DAY (if shutting down):
□ Export data for the day (Preview & Export → Last 24 Hours → Export to PDF)
□ Run PRODUCTION-STOP.bat to stop servers or kill the terminal (close the terminals)
□ Close browser
□ Shutdown computer if needed

================================================================================
SYSTEM INFORMATION
================================================================================

Data Retention:
- The system automatically keeps data for a configured period (default: 2 days)
- Older data is automatically deleted to save disk space
- Export important data to PDF/CSV before it's deleted

Real-Time Updates:
- Temperature readings update every 20 seconds (configurable)
- WebSocket provides instant updates to dashboard
- No need to refresh browser page

Automatic Log Cleanup:
- System logs are automatically managed
- Old log files deleted after retention period
- No manual cleanup needed

Network Security:
- System is designed for local network use only
- No data is sent to the internet
- All data stays on your local computer/network

================================================================================
GETTING HELP
================================================================================

For Technical Support:
   Contact: Toshniwal Industries Private Limited
   Technical Support Team

Before Contacting Support, Have Ready:
   - Description of the problem
   - Error messages (screenshot or copy text)
   - Which device(s) are affected
   - When the problem started
   - What you tried already

Check Log Files:
   - Location: webpyro_backend\logs\DD-MM-YYYY\
   - Files: errors.log (for error messages)

Browser Console (for web issues):
   - Press F12 in browser
   - Click "Console" tab
   - Screenshot any red error messages

================================================================================
SYSTEM SPECIFICATIONS
================================================================================

Software Information:
   Name: MULTI TEMPERATURE Monitor
   Version: 2.0
   Type: IRQ Pyrometer Monitoring System
   Developer: Toshniwal Industries Private Limited
   Release: December 2025

Supported Devices:
   - IRQ Pyrometers (Modbus RTU/RS485)
   - Baud Rate: 9600 (default, configurable)
   - Device IDs: 1-16
   - Maximum Devices: 16 simultaneous

System Requirements:
   - Windows 10/11 (64-bit)
   - PostgreSQL Database
   - Web Browser (Chrome, Edge, Firefox)
   - RS485 to USB Adapter

Network Access:
   - Server Port: 8000 (Backend API)
   - Web Port: 80 (Frontend)
   - Protocol: HTTP
   - Real-time: WebSocket

================================================================================
                             IMPORTANT NOTES
================================================================================

✓ ALWAYS run PRODUCTION-START-MINIMAL.bat as Administrator
✓ KEEP both server windows open while using the software
✓ DO NOT close server windows - this will stop the software
✓ BACKUP important data by exporting to PDF/CSV
✓ VERIFY device Instrument IDs match IRQ Pyrometer slave IDs
✓ ENSURE baud rates match between software and devices
✓ CHECK WebSocket connection status (should be "Connected")

✗ DO NOT modify any folder in server adn client(unless instructed)
✗ DO NOT change database settings (contact support)
✗ DO NOT run multiple instances simultaneously
✗ DO NOT expose the system to the internet (local network only)

================================================================================
                          END OF USER GUIDE
              For technical support, contact Toshniwal Industries
================================================================================

Developed by: Toshniwal Industries Private Limited
Version: 2.0 | December 2025
================================================================================
